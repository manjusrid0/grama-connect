{% extends 'base.html' %}
{% block content %}
<style>
  html, body {
  height: 100%;
  overflow-y: scroll; /* or auto */
}

  body::-webkit-scrollbar {
  width: 10px;
  }
  body::-webkit-scrollbar-thumb {
  background-color: #888;
  border-radius: 6px;
  }
  body::-webkit-scrollbar-thumb:hover {
  background-color: #555;
  }
</style>
<!-- Step 1: Show all classes -->
{% if step == 'list' %}
  <h2>Available Classes</h2>
  {% for cls in classes %}
    <div style="border:1px solid #ccc; padding:10px; margin:10px;">
      <h3>{{ cls.title }}</h3>
      <p>{{ cls.description }}</p>
      <a href="{{ url_for('confirm_join', class_id=cls.id) }}">
        <button>Join</button>
      </a>
    </div>
  {% endfor %}
{% endif %}


<!-- Step 2: Confirm Join Form -->
{% if step == 'confirm' %}
  <h2>Confirm Join - {{ selected_class.title }}</h2>
  <form method="POST" action="{{ url_for('confirm_join', class_id=selected_class.id) }}">
    <input type="text" name="name" placeholder="Your Name" required><br><br>
    <input type="email" name="email" placeholder="Your Email" required><br><br>
    <input type="text" name="phone" placeholder="Phone Number" required><br><br>
    <button type="submit">Confirm Join</button>
  </form>
{% endif %}


<!-- Step 3: Show Video -->
{% if step == 'video' %}
  <h2>Watch Your Class</h2>
  <video width="100%" height="400" controls autoplay>
    <source src="{{ url_for('uploaded_video', filename=video_file) }}" type="video/mp4">
    Your browser does not support the video tag.
  </video>
{% endif %}

<!-- Step 3: Offline class details -->
{% if step == 'offline' %}
  <h2>Offline Class Details</h2>
  <p><strong>Location:</strong> {{ class_info.location }}</p>
  <p><strong>Date:</strong> {{ class_info.date }}</p>
  <p><strong>Time:</strong> {{ class_info.time }}</p>
{% endif %}

{% endblock %}